<!-- 보험상식: 플로팅 버튼 + 모달 -->
<style>
  #weekly-fab{
    position:fixed; right:20px; top:calc(50% - 110px);
    height:40px; padding:0 14px; border-radius:20px; font-weight:700;
    display:flex; align-items:center; justify-content:center; cursor:pointer; z-index:9998;
    background:#fff; color:#3498db; border:2px solid #3498db; text-decoration:none;
    box-shadow:0 8px 20px rgba(0,0,0,.12);
  }
  #weekly-fab:hover{ background:#3498db; color:#fff; }
  #weeklyModal .modal-body{ max-height:70vh; overflow:auto; }
</style>

<a id="weekly-fab" href="javascript:void(0)" data-bs-toggle="modal" data-bs-target="#weeklyModal">보험상식</a>

<div class="modal fade" id="weeklyModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">보험 상식</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="닫기"></button>
      </div>
      <div class="modal-body"><div id="weeklyModalBody">로딩 중...</div></div>
      <div class="modal-footer"><small class="text-muted">표시는 참고용 안내입니다.</small></div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const weekly = document.getElementById('weeklyModal');
  if (!weekly) return;
  weekly.addEventListener('show.bs.modal', function () {
    fetch('/weekly/partial/')
      .then(res => res.text())
      .then(html => { document.getElementById('weeklyModalBody').innerHTML = html; })
      .catch(()=>{ document.getElementById('weeklyModalBody').innerHTML = '<div class="text-danger">불러오기에 실패했습니다.</div>'; });
  });
});
</script>
